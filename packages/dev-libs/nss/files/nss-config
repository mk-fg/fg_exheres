#!/bin/sh

nss_pc() {
	pkg-config $@ nss
}

nss_pc_variable() {
	nss_pc --variable=$1
}

usage()
{
  cat <<EOF
Usage: nss-config [OPTIONS]
Options:
	[--prefix]
	[--exec-prefix]
	[--includedir]
	[--libdir]
	[--version]
	[--libs]
	[--cflags]
EOF
  exit $1
}

if test $# -eq 0; then
    usage 1 1>&2
fi

while test $# -gt 0; do
  case "$1" in
  -*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) optarg= ;;
  esac

  case $1 in
    --prefix)      nss_pc_variable prefix ;;
    --exec-prefix) nss_pc_variable exec_prefix ;;
    --includedir)  nss_pc_variable includedir ;;
    --libdir)      nss_pc_variable libdir ;;
    --version)     nss_pc --modversion ;;
    --cflags)      nss_pc --cflags ;;
    --libs)        nss_pc --libs ;;
    *)             usage 1 1>&2 ;;
  esac

  shift
done

